{"ast":null,"code":"import axios from \"axios\";\nconst http = axios.create({\n  baseURL: 'http://localhost:8000',\n  headers: {\n    Accept: 'application/json',\n    Content: 'application/json'\n  }\n});\nhttp.interceptors.request.use(function (config) {\n  // Do something before request is sent\n  const token = sessionStorage.getItem('token');\n\n  if (token && config.headers) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n\n  return config;\n}, function (error) {\n  // Do something with request error\n  console.log('Erro no interceptor do axios');\n  return Promise.reject(error);\n});\nexport default http;","map":{"version":3,"names":["axios","http","create","baseURL","headers","Accept","Content","interceptors","request","use","config","token","sessionStorage","getItem","Authorization","error","console","log","Promise","reject"],"sources":["C:/IMPORTANTE/CURSOS/ALURA/HTTP_Entendendo_a_WEB_por_baixo_dos_panos/api-alurabooks/curso-react-alurabooks/src/http/index.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst http = axios.create({\r\n    baseURL: 'http://localhost:8000',\r\n    headers: {\r\n        Accept: 'application/json',\r\n        Content: 'application/json'\r\n    }\r\n})\r\n\r\nhttp.interceptors.request.use(function (config) {\r\n    // Do something before request is sent\r\n    const token = sessionStorage.getItem('token')\r\n    if (token && config.headers) {\r\n        config.headers.Authorization = `Bearer ${token}`\r\n    }\r\n    return config;\r\n  }, function (error) {\r\n    // Do something with request error\r\n    console.log('Erro no interceptor do axios')\r\n    return Promise.reject(error);\r\n  });\r\n\r\nexport default http"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,IAAI,GAAGD,KAAK,CAACE,MAAN,CAAa;EACtBC,OAAO,EAAE,uBADa;EAEtBC,OAAO,EAAE;IACLC,MAAM,EAAE,kBADH;IAELC,OAAO,EAAE;EAFJ;AAFa,CAAb,CAAb;AAQAL,IAAI,CAACM,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CAA8B,UAAUC,MAAV,EAAkB;EAC5C;EACA,MAAMC,KAAK,GAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAd;;EACA,IAAIF,KAAK,IAAID,MAAM,CAACN,OAApB,EAA6B;IACzBM,MAAM,CAACN,OAAP,CAAeU,aAAf,GAAgC,UAASH,KAAM,EAA/C;EACH;;EACD,OAAOD,MAAP;AACD,CAPH,EAOK,UAAUK,KAAV,EAAiB;EAClB;EACAC,OAAO,CAACC,GAAR,CAAY,8BAAZ;EACA,OAAOC,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD,CAXH;AAaA,eAAed,IAAf"},"metadata":{},"sourceType":"module"}
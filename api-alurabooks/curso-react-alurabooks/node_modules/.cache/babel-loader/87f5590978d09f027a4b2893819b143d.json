{"ast":null,"code":"var _jsxFileName = \"C:\\\\IMPORTANTE\\\\CURSOS\\\\ALURA\\\\api-alurabooks\\\\curso-react-alurabooks\\\\src\\\\componentes\\\\ModalLoginUsuario\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport { AbBotao, AbCampoTexto, AbModal } from \"ds-alurabooks\";\nimport { useState } from \"react\";\nimport http from \"../../http\";\nimport imagemPrincipal from './assets/login.png';\nimport './ModalLoginUsuario.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ModalLoginUsuario = _ref => {\n  _s();\n\n  let {\n    aberta,\n    aoFechar,\n    aoEfetuarLogin\n  } = _ref;\n  const [email, setEmail] = useState('');\n  const [senha, setSenha] = useState('');\n\n  const aoSubmeterFormular = evento => {\n    evento.preventDefault();\n    const usuario = {\n      email,\n      senha\n    };\n    http.post('public/login', usuario).then(reposta => {\n      sessionStorage.setItem('token', reposta.data.access_token);\n      setEmail('');\n      setSenha('');\n      aoEfetuarLogin();\n    }).catch(erro => {\n      var _erro$response, _erro$response$data;\n\n      if (erro !== null && erro !== void 0 && (_erro$response = erro.response) !== null && _erro$response !== void 0 && (_erro$response$data = _erro$response.data) !== null && _erro$response$data !== void 0 && _erro$response$data.message) {\n        alert(erro.response.data.message);\n      } else {\n        alert('Aconteceu um erro inesperado ao afetuar o seu login! Entre em contato com o suporte!');\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(AbModal, {\n    titulo: \"Login\",\n    aberta: aberta,\n    aoFechar: aoFechar,\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"corpoModalCadastro\",\n      children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: imagemPrincipal,\n          alt: \"Pessoa segurando uma chave na frente de uma tela de computador que est\\xE1 exibindo uma fechadura\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: aoSubmeterFormular,\n        children: [/*#__PURE__*/_jsxDEV(AbCampoTexto, {\n          label: \"E-mail\",\n          value: email,\n          onChange: setEmail,\n          type: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(AbCampoTexto, {\n          label: \"Senha\",\n          value: senha,\n          onChange: setSenha,\n          type: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"acoes\",\n          children: /*#__PURE__*/_jsxDEV(AbBotao, {\n            texto: \"Fazer login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 13\n  }, this);\n};\n\n_s(ModalLoginUsuario, \"VRVUgN5Xa/LZ1O/EVbYrcBXuKlM=\");\n\n_c = ModalLoginUsuario;\nexport default ModalLoginUsuario;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalLoginUsuario\");","map":{"version":3,"names":["AbBotao","AbCampoTexto","AbModal","useState","http","imagemPrincipal","ModalLoginUsuario","aberta","aoFechar","aoEfetuarLogin","email","setEmail","senha","setSenha","aoSubmeterFormular","evento","preventDefault","usuario","post","then","reposta","sessionStorage","setItem","data","access_token","catch","erro","response","message","alert"],"sources":["C:/IMPORTANTE/CURSOS/ALURA/api-alurabooks/curso-react-alurabooks/src/componentes/ModalLoginUsuario/index.tsx"],"sourcesContent":["import { AbBotao, AbCampoTexto, AbModal } from \"ds-alurabooks\"\r\nimport { useState } from \"react\"\r\nimport http from \"../../http\"\r\n\r\nimport imagemPrincipal from './assets/login.png'\r\n\r\nimport './ModalLoginUsuario.css'\r\n\r\ninterface PropsModalLoginUsuario {\r\n    aberta: boolean\r\n    aoFechar: () => void\r\n    aoEfetuarLogin: () => void\r\n}\r\n\r\nconst ModalLoginUsuario = ({ aberta, aoFechar, aoEfetuarLogin } : PropsModalLoginUsuario) => {\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [senha, setSenha] = useState('')\r\n\r\n    const aoSubmeterFormular = (evento: React.FormEvent<HTMLFormElement>) => {\r\n        evento.preventDefault()\r\n        const usuario = {\r\n            email,\r\n            senha,\r\n        }\r\n        http.post('public/login', usuario)\r\n            .then(reposta => {\r\n                sessionStorage.setItem('token', reposta.data.access_token)\r\n                setEmail('')\r\n                setSenha('')\r\n                aoEfetuarLogin()\r\n            })\r\n            .catch(erro => {\r\n                if (erro?.response?.data?.message) {\r\n                    alert(erro.response.data.message)\r\n                } else {\r\n                    alert('Aconteceu um erro inesperado ao afetuar o seu login! Entre em contato com o suporte!')\r\n                }\r\n                \r\n            })\r\n    }\r\n\r\n    return (<AbModal \r\n        titulo=\"Login\" \r\n        aberta={aberta}\r\n        aoFechar={aoFechar}    \r\n    >\r\n        <section className=\"corpoModalCadastro\">\r\n            <figure>\r\n                <img src={imagemPrincipal} alt=\"Pessoa segurando uma chave na frente de uma tela de computador que estÃ¡ exibindo uma fechadura\" />\r\n            </figure>\r\n            <form onSubmit={aoSubmeterFormular}>\r\n                <AbCampoTexto \r\n                    label=\"E-mail\"\r\n                    value={email}\r\n                    onChange={setEmail}\r\n                    type=\"email\"\r\n                />\r\n                <AbCampoTexto \r\n                    label=\"Senha\"\r\n                    value={senha}\r\n                    onChange={setSenha}\r\n                    type=\"password\"\r\n                />\r\n                <div className=\"acoes\">\r\n                    <AbBotao texto=\"Fazer login\"/>\r\n                </div>\r\n            </form>\r\n        </section>\r\n    </AbModal>)\r\n}\r\n\r\nexport default ModalLoginUsuario"],"mappings":";;;AAAA,SAASA,OAAT,EAAkBC,YAAlB,EAAgCC,OAAhC,QAA+C,eAA/C;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AAEA,OAAOC,eAAP,MAA4B,oBAA5B;AAEA,OAAO,yBAAP;;;AAQA,MAAMC,iBAAiB,GAAG,QAAmE;EAAA;;EAAA,IAAlE;IAAEC,MAAF;IAAUC,QAAV;IAAoBC;EAApB,CAAkE;EAEzF,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,EAAD,CAAlC;;EAEA,MAAMW,kBAAkB,GAAIC,MAAD,IAA8C;IACrEA,MAAM,CAACC,cAAP;IACA,MAAMC,OAAO,GAAG;MACZP,KADY;MAEZE;IAFY,CAAhB;IAIAR,IAAI,CAACc,IAAL,CAAU,cAAV,EAA0BD,OAA1B,EACKE,IADL,CACUC,OAAO,IAAI;MACbC,cAAc,CAACC,OAAf,CAAuB,OAAvB,EAAgCF,OAAO,CAACG,IAAR,CAAaC,YAA7C;MACAb,QAAQ,CAAC,EAAD,CAAR;MACAE,QAAQ,CAAC,EAAD,CAAR;MACAJ,cAAc;IACjB,CANL,EAOKgB,KAPL,CAOWC,IAAI,IAAI;MAAA;;MACX,IAAIA,IAAJ,aAAIA,IAAJ,iCAAIA,IAAI,CAAEC,QAAV,kEAAI,eAAgBJ,IAApB,gDAAI,oBAAsBK,OAA1B,EAAmC;QAC/BC,KAAK,CAACH,IAAI,CAACC,QAAL,CAAcJ,IAAd,CAAmBK,OAApB,CAAL;MACH,CAFD,MAEO;QACHC,KAAK,CAAC,sFAAD,CAAL;MACH;IAEJ,CAdL;EAeH,CArBD;;EAuBA,oBAAQ,QAAC,OAAD;IACJ,MAAM,EAAC,OADH;IAEJ,MAAM,EAAEtB,MAFJ;IAGJ,QAAQ,EAAEC,QAHN;IAAA,uBAKJ;MAAS,SAAS,EAAC,oBAAnB;MAAA,wBACI;QAAA,uBACI;UAAK,GAAG,EAAEH,eAAV;UAA2B,GAAG,EAAC;QAA/B;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QADJ,eAII;QAAM,QAAQ,EAAES,kBAAhB;QAAA,wBACI,QAAC,YAAD;UACI,KAAK,EAAC,QADV;UAEI,KAAK,EAAEJ,KAFX;UAGI,QAAQ,EAAEC,QAHd;UAII,IAAI,EAAC;QAJT;UAAA;UAAA;UAAA;QAAA,QADJ,eAOI,QAAC,YAAD;UACI,KAAK,EAAC,OADV;UAEI,KAAK,EAAEC,KAFX;UAGI,QAAQ,EAAEC,QAHd;UAII,IAAI,EAAC;QAJT;UAAA;UAAA;UAAA;QAAA,QAPJ,eAaI;UAAK,SAAS,EAAC,OAAf;UAAA,uBACI,QAAC,OAAD;YAAS,KAAK,EAAC;UAAf;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QAbJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAJJ;IAAA;MAAA;MAAA;MAAA;IAAA;EALI;IAAA;IAAA;IAAA;EAAA,QAAR;AA4BH,CAxDD;;GAAMP,iB;;KAAAA,iB;AA0DN,eAAeA,iBAAf"},"metadata":{},"sourceType":"module"}
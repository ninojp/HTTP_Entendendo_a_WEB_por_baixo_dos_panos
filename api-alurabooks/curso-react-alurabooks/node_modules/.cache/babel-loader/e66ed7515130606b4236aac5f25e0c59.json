{"ast":null,"code":"import axios from\"axios\";var http=axios.create({baseURL:'http://localhost:8000',headers:{Accept:'application/json',Content:'application/json'}});http.interceptors.request.use(function(config){// Do something before request is sent\nvar token=sessionStorage.getItem('token');if(token&&config.headers){config.headers.Authorization=\"Bearer \".concat(token);}return config;},function(error){// Do something with request error\nconsole.log('Erro no interceptor do axios');return Promise.reject(error);});export default http;","map":{"version":3,"names":["axios","http","create","baseURL","headers","Accept","Content","interceptors","request","use","config","token","sessionStorage","getItem","Authorization","error","console","log","Promise","reject"],"sources":["C:/IMPORTANTE/CURSOS/ALURA/HTTP_Entendendo_a_WEB_por_baixo_dos_panos/api-alurabooks/curso-react-alurabooks/src/http/index.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst http = axios.create({\r\n    baseURL: 'http://localhost:8000',\r\n    headers: {\r\n        Accept: 'application/json',\r\n        Content: 'application/json'\r\n    }\r\n})\r\n\r\nhttp.interceptors.request.use(function (config) {\r\n    // Do something before request is sent\r\n    const token = sessionStorage.getItem('token')\r\n    if (token && config.headers) {\r\n        config.headers.Authorization = `Bearer ${token}`\r\n    }\r\n    return config;\r\n  }, function (error) {\r\n    // Do something with request error\r\n    console.log('Erro no interceptor do axios')\r\n    return Promise.reject(error);\r\n  });\r\n\r\nexport default http"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,GAAMC,KAAI,CAAGD,KAAK,CAACE,MAAN,CAAa,CACtBC,OAAO,CAAE,uBADa,CAEtBC,OAAO,CAAE,CACLC,MAAM,CAAE,kBADH,CAELC,OAAO,CAAE,kBAFJ,CAFa,CAAb,CAAb,CAQAL,IAAI,CAACM,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CAA8B,SAAUC,MAAV,CAAkB,CAC5C;AACA,GAAMC,MAAK,CAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAd,CACA,GAAIF,KAAK,EAAID,MAAM,CAACN,OAApB,CAA6B,CACzBM,MAAM,CAACN,OAAP,CAAeU,aAAf,kBAAyCH,KAAzC,EACH,CACD,MAAOD,OAAP,CACD,CAPH,CAOK,SAAUK,KAAV,CAAiB,CAClB;AACAC,OAAO,CAACC,GAAR,CAAY,8BAAZ,EACA,MAAOC,QAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP,CACD,CAXH,EAaA,cAAed,KAAf"},"metadata":{},"sourceType":"module"}